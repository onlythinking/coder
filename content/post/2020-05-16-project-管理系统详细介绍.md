---
title: "ç®¡ç†ç³»ç»Ÿè¯¦ç»†ä½¿ç”¨æ•™ç¨‹ | ç¼–ç¨‹ç å†œ"
date: "2020-05-16T11:34:55+08:00"
description: "åºè¨€ ç»§ä¸Šä¸€ç¯‡ ä¸€å¥—ç®¡ç†ç³»ç»ŸåŸºç¡€æ¨¡ç‰ˆ è¯¦ç»†æ¢³ç†ä¸€ä¸‹å®‰è£…æµç¨‹ï¼ŒåŠŸèƒ½è¯´æ˜ï¼Œå¼€å‘è§„èŒƒç­‰ã€‚ - åç«¯é¡¹ç›®ç»“æ„ï¼Ÿ - å¦‚ä½•ä»é›¶æ­å»ºç¯å¢ƒå¼€å‘ï¼Ÿ - å¦‚ä½•æ‰“åŒ…éƒ¨ç½²ï¼Ÿ - æ¥å…¥å¼€å‘åŠè§„èŒƒ - é¡¹ç›®åœ°å€ - å°ç»“ åç«¯é¡¹ç›®ç»“æ„ â€‹	shop-server ä¾èµ–ä»¥ä¸‹é¡¹ç›® > https://github.com/cut..."
tags:
  - "JavaScript"
  - "Java"
  - "MySQL"
  - "å¹¶å‘ç¼–ç¨‹"
  - "Class"
categories:
  - "é¡¹ç›®å®æˆ˜"
keywords:
  - "JavaScript"
  - "Java"
  - "é¡¹ç›®å®æˆ˜"
  - "å®‰å…¨"
  - "å¹¶å‘"
  - "ES6"
  - "åƒåœ¾å›æ”¶"
  - "Git"
author: "ç¼–ç¨‹ç å†œ"
draft: false
---

## åºè¨€

ç»§ä¸Šä¸€ç¯‡ [ä¸€å¥—ç®¡ç†ç³»ç»ŸåŸºç¡€æ¨¡ç‰ˆ](http://localhost:4000/2020/05/14/%E4%B8%80%E5%A5%97%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80%E6%A8%A1%E7%89%88/)

è¯¦ç»†æ¢³ç†ä¸€ä¸‹å®‰è£…æµç¨‹ï¼ŒåŠŸèƒ½è¯´æ˜ï¼Œå¼€å‘è§„èŒƒç­‰ã€‚

- **åç«¯é¡¹ç›®ç»“æ„ï¼Ÿ**
- **å¦‚ä½•ä»é›¶æ­å»ºç¯å¢ƒå¼€å‘ï¼Ÿ**
- **å¦‚ä½•æ‰“åŒ…éƒ¨ç½²ï¼Ÿ**
- **æ¥å…¥å¼€å‘åŠè§„èŒƒ**
- **é¡¹ç›®åœ°å€**
- **å°ç»“**

## åç«¯é¡¹ç›®ç»“æ„

â€‹	[shop-server](https://github.com/cuteJ/shop-server) ä¾èµ–ä»¥ä¸‹é¡¹ç›®

> https://github.com/cuteJ/ot-server-parent [ï¼ˆç»Ÿä¸€ç‰ˆæœ¬æ’ä»¶ç®¡ç†ï¼‰](https://github.com/cuteJ/ot-server-parent)
>
> https://github.com/cuteJ/ot-server-commons [ï¼ˆå…¬å…±åŸºç¡€ç±»ï¼‰](https://github.com/cuteJ/ot-server-commons)
>
> https://github.com/cuteJ/ot-boot-starter [ï¼ˆè‡ªå®šä¹‰Spring boot starterï¼‰](https://github.com/cuteJ/ot-boot-starter)
>
> https://github.com/cuteJ/ot-mybatis-generator [ï¼ˆå®šåˆ¶ç”Ÿæˆå™¨ï¼‰](https://github.com/cuteJ/ot-mybatis-generator)

æ‰€ä¾èµ–çš„é¡¹ç›®å®‰è£…åŒ…ä½ç½®ï¼šhttps://maven.pkg.github.com/cuteJ/ot-server-parent

ä¾èµ–ç»§æ‰¿å…³ç³»å¦‚ä¸‹ï¼š

## ![](https://blogs-on.oss-cn-beijing.aliyuncs.com/imgs/shop-server_m-9602095.png)

## å¦‚ä½•ä»é›¶æ­å»ºç¯å¢ƒå¼€å‘

è¿™ä¸€èŠ‚ä¸ºé›¶åŸºç¡€æ­å»ºï¼Œç»éªŒå¼€å‘äººå‘˜å¯ç›´æ¥è·³è¿‡ï¼ï¼ï¼ï¼

#### å®‰è£…ç¯å¢ƒ

- ä¸‹è½½å¯¹åº”å¹³å°JDK1.8 [Download](https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html)

  ```bash
  # æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼Œå®‰è£…å®Œæ¯•ã€‚
  âœ  ~ java -version
  java version "1.8.0_151"
  Java(TM) SE Runtime Environment (build 1.8.0_151-b12)
  Java HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)
  
  #å¦‚æœæç¤ºæ‰¾ä¸åˆ°å¯¹åº”å‘½ä»¤æ·»åŠ 
  âœ  ~ vim .bash_profile
  export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdkç‰ˆæœ¬/Contents/Home
  export PATH=$PATH:$M2_HOME/bin
  ```

  

- ä¸‹è½½Maven [Download](https://downloads.apache.org/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.zip)

  ```bash
  # å¤šä¸ªPATHå˜é‡ç”¨å†’å·åˆ†å‰²
  âœ  ~ vim .bash_profile
  export M2_HOME=/Users/lixingping/soft/apache-maven-3.5.2
  export PATH=$PATH:$M2_HOME/bin
  
  # æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼Œå®‰è£…å®Œæ¯•ã€‚
  âœ  ~ mvn -v
  Apache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T15:58:13+08:00)
  Maven home: /data/apache-maven-3.5.2
  Java version: 1.8.0_151, vendor: Oracle Corporation
  Java home: /Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home/jre
  Default locale: zh_CN, platform encoding: UTF-8
  OS name: "mac os x", version: "10.14.6", arch: "x86_64", family: "mac"
  ```

  é…ç½®Maven settings.xml

  settings.xml æœ‰ä¸¤ä¸ªç›®å½•

  	1. ï½/.m2 ç”¨æˆ·çº§é…ç½®ï¼ˆå¦‚æœè¯¥ç›®å½•ä¸‹é¢æ— æ–‡ä»¶åˆ™æ–°å»ºï¼‰
  	2. $M2_HOME/conf å…¨å±€é…ç½®

  åœ¨settings.xml æ–‡ä»¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

  ```bash
  <?xml version="1.0" encoding="UTF-8"?>
  <settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd">
    <servers>
      <server>
        <id>github</id>
        <username>cuteJ</username>
        <password>b5bbc403f1b807e64a606bb98af0ab60f5302e67</password>
      </server>
    </servers>
    <mirrors>
      <mirror>
        <id>nexus</id>
        <mirrorOf>central</mirrorOf>
        <url>http://maven.aliyun.com/nexus/content/groups/public/</url>
      </mirror>
    </mirrors>
    <profiles>
  
      <profile>
        <id>github</id>
        <repositories>
          <repository>
            <id>github</id>
            <name>GitHub OWNER Apache Maven Packages</name>
            <url>https://maven.pkg.github.com/cuteJ/ot-server-parent</url>
            <releases>
              <enabled>true</enabled>
            </releases>
            <snapshots>
              <enabled>true</enabled>
            </snapshots>
          </repository>
        </repositories>
      </profile>
    </profiles>
  
    <activeProfiles>
      <activeProfile>github</activeProfile>
    </activeProfiles>
  </settings>
  
  ```

- Git [Download](https://git-scm.com/downloads)

  - å…¨å±€é…ç½®

    ```bash
    git config --global user.name <your name>
    git config --global user.email <your_email@example.com>
    ```

  - å»ºè®®é…ç½®

    - crlf

    ```bash
    # windowsç³»ç»Ÿ
    git config --global core.autocrlf true
    # macç³»ç»Ÿ
    git config --global core.autocrlf input
    git config credential.helper store
    ```

- å¼€å‘å·¥å…· [intellij idea](https://www.jetbrains.com/idea/download/)

- æ•°æ®åº“(é€‰æ‹©ç›¸åº”å¹³å°å®‰è£…å®‰è£…) [Mysql](https://downloads.mysql.com/archives/community/)

- å®‰è£…NodeJs [Download](https://nodejs.org/en/download/)

  ```bash
  # æ˜¾ç¤ºç‰ˆæœ¬åˆ™å®‰è£…æˆåŠŸ
  âœ  ~ npm -v
  5.6.0
  ```

  

#### å¯åŠ¨é¡¹ç›®

- ä¸‹è½½å‰åç«¯é¡¹ç›®

  ```bash
  git clone https://github.com/cuteJ/shop-server.git
  ```

- åˆ›å»ºæ•°æ®åº“å¹¶åˆå§‹åŒ–æ•°æ®

  ```bash
  # é¡¹ç›®install ç›®å½•ä¸‹ä¸¤ä¸ªæ–‡ä»¶
  shop-server/install/sql
  								---- db.sql // åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·
  								---- data.sql // é¡¹ç›®è¡¨ç»“æ„å’Œåˆå§‹åŒ–æ•°æ®
  ```

- å¯åŠ¨åç«¯é¡¹ç›®(maven.pkg.github.comä¸‹è½½æœ‰ç‚¹æ…¢ï¼Œè¯·æœ‰å¿ƒç†å‡†å¤‡ğŸ˜“)

  ```bash
  âœ  ~ cd shop-server
  âœ  ~ mvn clean install
  âœ  ~ cd shop-server-mgt
  âœ  ~ mvn spring-boot:run
  ```

- å®‰è£…å¯åŠ¨å‰ç«¯

  ```bash
  git clone https://github.com/cuteJ/shop-web-mgt.git
  cd shop-web-mgt
  npm install --registry=https://registry.npm.taobao.org
  npm run dev
  ```

  

  

## å¦‚ä½•æ‰“åŒ…éƒ¨ç½²

- åç«¯ [shop-server](https://github.com/cuteJ/shop-server)

  ```bash
  cd shop-server
  mvn clean package
  # æ‹·è´åˆ°è¿è¡Œç›®å½•
  shop-server/shop-server-mgt/shop-server-mgt.jar
  ```

  â€‹	å¯åŠ¨è„šæœ¬ï¼ˆshop-server/install/shell/execute.shï¼‰

  ```bash
  #!/bin/bash -
  
  # æ•°æ®åº“é…ç½®
  #export MYSQL_URL=127.0.0.1:3306
  #export MYSQL_USER=cuteJ_shop
  #export MYSQL_PASSWORD=cuteJ_shop123
  
  # åº”ç”¨é…ç½®
  #export SERVER_PORT=8300
  #export SERVER_CONTEXT_PATH=/shop
  # ç®¡ç†åå°Sessionè¶…æ—¶æ—¶é—´ï¼ˆå•ä½ç§’ï¼‰
  #export SERVER_SESSION_TIMEOUT=1800
  # æœåŠ¡å¼‚å¸¸å“åº”å½¢å¼ï¼šalways: è¿”å›å…¨éƒ¨çš„å †æ ˆä¿¡æ¯ï¼ˆä¸€èˆ¬åœ¨debug,å¼€å‘æµ‹è¯•ç¯å¢ƒä½¿ç”¨ï¼‰never:è¿”å›å‹å¥½æç¤º
  #export SERVER_ERROR_MODE=always
  # è·¨åŸŸé…ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨nginx é…ç½®
  #export APP_CORS_ORIGIN: http://localhost:9527
  
  #Jwt Cç«¯API è®¤è¯é…ç½®
  #export JWT_HEADER=Authorization
  #export JWT_SECRET=abkfdsfooi0934
  # tokenå¤±æ•ˆæ—¶é—´ï¼ˆå•ä½ç§’ï¼‰
  #export JWT_EXPIRATION=86400
  
  # oss å¯é€‰ï¼ˆaliyun|huaweiï¼‰
  #export APP_OSS_KEY=xxx
  #export APP_OSS_SECRET=xxx
  #export APP_OSS_ENDPOINT=xxx
  #export APP_OSS_URL=xxx
  #export APP_OSS_BUCKET=xxx
  
  # Linux è·¯å¾„
  MS_HOME=/data/cuteJ/server
  MS_JAR=shop-server-mgt.jar #
  APP_NAME=shop-server-mgt #
  JAVA_OPTS="-Dspring.profiles.active=prod -Xms1g -Xmx4g -XX:MaxMetaspaceSize=256m -XX:+UseG1GC";
  
  MS_PID=`ps fax|grep java|grep "${MS_JAR}"|awk '{print $1}'`
  export MS_PID;
  
  # Function: start
  start() {
    pid=${MS_PID}
    if [ -n "${pid}" ]; then {
      echo "${APP_NAME} Service is already running (pid: ${pid})";
    }
    else {
      # Start screener ms
      echo "Starting ${APP_NAME} service";
      cd ${MS_HOME}
      nohup java ${JAVA_OPTS} -jar ./${MS_JAR} > /dev/null 2>&1 &
    } fi;
    # return 0;
  }
  
  # Function: stop
  stop() {
    pid=${MS_PID}
    if [ -n "${pid}" ]; then {
      echo -ne "Stopping service module";
      kill -15 ${pid}
      sleep 5
      pid=`ps fax|grep java|grep "${MS_JAR}"|awk '{print $1}'`
      if [ ${pid} ]; then {
        echo 'Kill Process!'
        kill -9 ${pid}
      }
      else {
        echo "${APP_NAME} stop success."
      } fi;
    }
    else {
        echo "${APP_NAME} service is not running";
    } fi;
  
    #return 0;
  }
  
  # Main Code
  
  case $1 in
    start)
      start;
      ;;
    stop)
      stop;
      ;;
    restart)
      stop;
      sleep 1;
      start;
      ;;
    status)
      pid=${MS_PID}
      if [ "${pid}" ]; then {
        echo "${APP_NAME} service is running with pid: ${pid}";
      }
      else {
        echo "${APP_NAME} service is not running";
      } fi;
      ;;
  esac
  
  exit 0;
  ```

  ```bash
  ./execute.sh start # å¯åŠ¨åº”ç”¨
  ./execute.sh stop # åœæ­¢åº”ç”¨
  ./execute.sh status # æŸ¥çœ‹åº”ç”¨çŠ¶æ€
  ```

- å‰ç«¯ [shop-web-mgt](https://github.com/cuteJ/shop-web-mgt)

  å®‰è£… nginx [Download](http://nginx.org)

  ```bash
  #é…ç½®
  server {
      listen              80;
      server_name         www.xxxx.com;
  
      proxy_set_header Host $host;
      proxy_set_header x-auth-token $http_x_auth_token;
      proxy_set_header X-Forwarded-For $remote_addr;
      proxy_set_header Authorization $http_authorization;
      proxy_pass_header  Authorization;
  
       location / {
           # shop-web-mgt æ‰“åŒ…å distæ–‡ä»¶
           root   /www/shop-web-mgt;                                                                                                                                                                                                                                                                                                      add_header Cache-Control "private, no-store, no-cache, must-revalidate, proxy-revalidate";
           index  index.html index.htm;
       }
  
       location /shop/ {
         proxy_set_header             Host $host;
         proxy_set_header             Cookie $http_cookie;
         proxy_set_header             Referer $http_referer;
         proxy_set_header             X-Real-IP $remote_addr;
         proxy_set_header             X-Forwarded-For $proxy_add_x_forwarded_for;
         proxy_pass_header            Server;
         proxy_http_version 1.1;
         proxy_set_header Connection "";
         proxy_pass              http://127.0.0.1:8300/shop/;
         #expires                 0;
    }
  }
  ```

  

  ```bash
  # é…ç½®æ¥å£åœ°å€
  shop-web-mgt/config/prod.env.js
  npm run build:prod
  # æ‹·è´ dist ç›®å½•ä¸‹çš„æ–‡ä»¶åˆ°nginxä¸‹é¢
  ```

## **æ¥å…¥å¼€å‘åŠè§„èŒƒ**

- #### åç«¯

  - **åŸºç¡€æ•°æ®åˆå§‹åŒ–**

    æ–‡ä»¶ç›®å½• 

    ```java
     shop-server-mgt/com.onlythinking.shop.init
     	DicsInitializer (å¸¸é‡åˆå§‹åŒ–)
     	ApisInitializer (å¸¸é‡åˆå§‹åŒ–) 
     	MenusInitializer (èœå•åˆå§‹åŒ–) 
     	AdminInitializer (ç®¡ç†å‘˜åˆå§‹åŒ–) 
      GrantInitializer (ç®¡ç†å‘˜æˆæƒ) 
      DBMetaInitializer (æ•°æ®åº“è¡¨ç»“æ„æ•°æ®) 
    ```

    æ‰§è¡Œåˆå§‹åŒ–ï¼ˆæ³¨æ„ï¼šä¼šåˆ é™¤ä¹‹å‰çš„æ•°æ®ï¼‰

    ```bash
    mvn -Pdev spring:boot
    curl http://127.0.0.1:8300/shop/api/insecure/re_init
    ```

    

  - **Mybatis ç”Ÿæˆå®ä½“Mapper**

    > https://github.com/cuteJ/ot-mybatis-generator [ï¼ˆå¯æ ¹æ®è‡ªèº«é¡¹ç›®æƒ…å†µå®šåˆ¶ç”Ÿæˆå™¨ï¼‰](https://github.com/cuteJ/ot-mybatis-generator)

    ç›®å½• shop-server-api

    é…ç½®å¦‚ä¸‹æ–‡ä»¶ generatorConfig.propertiesï¼ŒgeneratorConfig.xml 

    ![b_2](https://blogs-on.oss-cn-beijing.aliyuncs.com/imgs/b_2.png)

    ```bash
    mvn -Pgenerator clean install
    ```

    ![b_3](https://blogs-on.oss-cn-beijing.aliyuncs.com/imgs/b_3.png)

  - **APIæ–‡æ¡£çš„ç”Ÿæˆ**

    ```bash
    mvn -PapiDcos clean install
    ```

    å®šåˆ¶åŒ–å†…å®¹å¯åœ¨ä»¥ä¸‹ç›®å½•

    shop-server-mgt/src/docs/asciidoc æ·»åŠ adocæ–‡ä»¶

    ç”ŸæˆHtmlå’ŒPDFä¸¤ç§æ ¼å¼æ–‡æ¡£

    ç”Ÿæˆæˆªå›¾ï¼š

    ![3_api_sw](https://blogs-on.oss-cn-beijing.aliyuncs.com/imgs/3_api_sw.png)

    ![4_api_html](https://blogs-on.oss-cn-beijing.aliyuncs.com/imgs/4_api_html.png)

    ![5_api_pdf](https://blogs-on.oss-cn-beijing.aliyuncs.com/imgs/5_api_pdf.png)

    > [Swagger](https://www.zzhjshop.com/shop_test/swagger-ui.html)
    >
    > [åœ¨çº¿æ–‡æ¡£](https://cutej.github.io/shop-server/index.html)
    >
    > [åœ¨çº¿æ–‡æ¡£ï¼ˆpdfï¼‰](http://shop-mgt.zzhjshop.com/pdf/index.pdf)

    

  - **å“åº”å¼‚å¸¸å¤„ç†**

    é¡¹ç›®ç»Ÿä¸€å“åº”å¼å¼‚å¸¸ä¸ºcom.onlythinking.commons.exception.RespondedException

    errorCodeç”¨æ³•ï¼šå¦‚Tokenå¤±æ•ˆï¼Œæ¥å£æ ¡éªŒçº¦æŸå¼‚å¸¸ç­‰ã€‚

  - **å›½é™…åŒ–å¤„ç†**

    åŸåˆ™ä¸Šé™¤ä»£ç æ³¨é‡Šå¤–é¡¹ç›®é‡Œé¢ä¸åº”è¯¥æœ‰ä¸­æ–‡

    å›½é™…åŒ–æ–‡ä»¶ç›®å½•ï¼šshop-server-mgt/src/main/resources/i18n

    ```java
    // æ–¹å¼ä¸€    
    private final MessageSource messageSource;
    String message = messageSource.getMessage("mgt.entity.null", null)
    // å¼‚å¸¸ç±»
    if (StringUtils.isBlank(msg)) {
       throw RespondedException.argumentInvalid("{mgt.entity.null}");
    }
    ```

    

  - **æ¥å£URLè§„èŒƒ**

    ```java
    //ï¼ˆå› ä¸ºâ€˜shop-server-appâ€™å’Œ'shop-server-mgt'åˆå¹¶ä¸ºä¸€ä¸ªåº”ç”¨å¯åŠ¨ï¼Œä¸ºäº†æ–¹ä¾¿æƒé™æ§åˆ¶æ·»åŠ äº†/appå‰ç¼€ä½œä¸ºåŒºåˆ†| æ ¹æ®æƒ…å†µä¹Ÿå¯ä»¥æ‹†åˆ†ä¸ºä¸¤ä¸ªåº”ç”¨ï¼‰
    /{content-path}/api/app/ //ï¼ˆh5,å°ç¨‹åºè¯·æ±‚æ¥å£ï¼‰
    /{content-path}/api/     //ï¼ˆç®¡ç†åå°æ¥å£ï¼‰
    
    com.onlythinking.commons.config.annotation.@ApiRest //è¯´æ˜
    
    // å¦‚ä¸‹ï¼š
    @Slf4j
    @RequiredArgsConstructor(onConstructor = @__(@Autowired))
    @Api(tags = "ç”¨æˆ·ç™»å½•")
    @ApiRest(serviceId = "app", value = "/auth/{appNo}/{maType}")
    public class MaAuthController {
    
    // controller çš„æ‹¼æ¥è·¯å¾„ä¸º
    /${content-path}/api/${serviceId}/${value}
    
    ```

    

  - **æƒé™çš„å¤„ç†**

    - shop-server-app

      ```java
      // H5ï¼Œå°ç¨‹åºè¯·æ±‚æ¥å£é‡‡ç”¨jwt å…·ä½“æŸ¥çœ‹ï¼šcom.onlythinking.shop.app.core.security.JwtAuthorizationTokenFilter
      ```

    - shop-server-mgt

      ç®¡ç†ç«¯é‡‡ç”¨Shiroæ¡†æ¶

      ```java
      // RequiresPermissions value è§„åˆ™ (module:domain:action)
      @ApiOperation("ç³»ç»Ÿè§’è‰²æ·»åŠ ")
      @RequiresPermissions(value = "sys:role:save")
      @PostMapping(value = "/role/save")
      public RespondedBody sysRoleSave(@RequestBody OtSysRole dto) {
      	infraSystemService.saveOrUpdateSysRole(dto);
        return RespondedBody.successful();
      }
      ```

      

  - **å®šæ—¶ä»»åŠ¡çš„å¼€å‘**

    1. com.onlythinking.shop.mgt.system.jobs åˆ›å»ºä»»åŠ¡

       ```java
       package com.onlythinking.shop.mgt.system.jobs;
       /**
        * <p> The describe </p>
        *
        * @author Li Xingping
        */
       @Slf4j
       @DisallowConcurrentExecution
       public class HelloWordJob implements Job {
       
           @Override
           public void execute(JobExecutionContext context) {
               String instanceId = context.getMergedJobDataMap().getString("instanceId");
               log.info("Job [{}] running ", instanceId);
               log.info("Hello world");
       
               if (new Random().nextInt(20) % 2 == 0) {
                   throw RespondedException.argumentInvalid("æ‰§è¡Œä»»åŠ¡å‚æ•°é”™è¯¯");
               }
           }
       }
       ```

    2. åå°ç³»ç»Ÿ=ã€‹å®šæ—¶ä»»åŠ¡åˆ›å»ºæ¨¡ç‰ˆå’Œè§¦å‘å™¨å¯åŠ¨å®ä¾‹

       ![6_job](https://blogs-on.oss-cn-beijing.aliyuncs.com/imgs/6_job.png)

    

- #### å‰ç«¯

  - **ç›®å½•ç»“æ„**

    ```
    src -- æºç ç›®å½•
    â”œâ”€â”€ api -- API
    â”œâ”€â”€ assets -- å›¾ç‰‡èµ„æºæ–‡ä»¶
    â”œâ”€â”€ components -- é€šç”¨ç»„ä»¶
    â”œâ”€â”€ directive -- vueæŒ‡ä»¤
    â”œâ”€â”€ filters -- è¿‡æ»¤å™¨
    â”œâ”€â”€ lang -- å›½é™…åŒ–é…ç½®
    â”œâ”€â”€ icons -- svgæ–‡ä»¶
    â”œâ”€â”€ router -- è·¯ç”±é…ç½®
    â”œâ”€â”€ store -- vuexçŠ¶æ€ç®¡ç†
    â”œâ”€â”€ styles -- å…¨å±€cssæ ·å¼
    â”œâ”€â”€ utils -- å·¥å…·ç±»
    â””â”€â”€ views -- é¡µé¢ç»„ä»¶
        â”œâ”€â”€ app -- åº”ç”¨ç®¡ç†ï¼ˆå°ç¨‹åºï¼‰
        â”œâ”€â”€ dashboard -- é¦–é¡µ
        â”œâ”€â”€ errorPage -- é”™è¯¯é¡µé¢
        â”œâ”€â”€ layout -- å¸ƒå±€é¡µé¢
        â”œâ”€â”€ login -- ç™»å½•é¡µ
        â”œâ”€â”€ profile -- ä¸ªäººé…ç½®
        â”œâ”€â”€ svg-icons -- å›¾æ ‡
        â”œâ”€â”€ system -- ç³»ç»Ÿç®¡ç†
            â”œâ”€â”€ components -- é¡µé¢çº§åˆ«ç»„ä»¶
            â”œâ”€â”€ sysApiListManager -- æ¥å£åˆ—è¡¨
            â”œâ”€â”€ sysAuthorityManager -- æ¥å£æƒé™
            â”œâ”€â”€ sysDicManager -- å¸¸é‡ç®¡ç†
            â”œâ”€â”€ sysJobManager -- å®šæ—¶ä»»åŠ¡
            â”œâ”€â”€ sysJobRunLogManager -- å®šæ—¶ä»»åŠ¡æ—¥å¿—
            â”œâ”€â”€ sysMenuManager -- èœå•ç®¡ç†
            â”œâ”€â”€ sysMetadataManager -- æ•°æ®å­—å…¸
            â”œâ”€â”€ sysOptLogManager -- æ“ä½œæ—¥å¿—
            â”œâ”€â”€ sysRegionManager -- åœ°åŒºç®¡ç†
            â”œâ”€â”€ sysRoleManager -- è§’è‰²ç®¡ç†
            â”œâ”€â”€ sysUserManager -- ç³»ç»Ÿç”¨æˆ·ç®¡ç†
        â”œâ”€â”€ user -- Cç«¯ç”¨æˆ·ç®¡ç†
            â”œâ”€â”€ userLoginManager -- Cç«¯ç”¨æˆ·åˆ—è¡¨
    ```

  - **å¸¸é‡å€¼çš„å¤„ç†**

    å¸¸é‡å€¼æ¯”å¦‚ï¼šæ€§åˆ«ï¼ŒçŠ¶æ€ä¸ºäº†é€‚é…å›½é™…åŒ–å’Œç‰¹æ®Šå­—ç¬¦å¤„ç†åˆ¶å®šä¸€å¥—æ˜ å°„è¡¨ã€‚

    ![7_cc](https://blogs-on.oss-cn-beijing.aliyuncs.com/imgs/7_cc.png)

    å‰ç«¯ä½¿ç”¨ï¼š

    ```javascript
    <template>         
    <!--ç»„ä»¶ä½¿ç”¨-->
     <sys-code
      v-if="cacheData.codes"
      :cache-options="cacheData['codes']"
       :type-code="'1000'"
       :selected.sync="ok"
     />
     <!--è¿‡æ»¤å™¨ä½¿ç”¨-->
     <span v-if="cacheData.statusMap">{{ scope.row.status | statusFilter(cacheData.statusMap['1000'])}}</span>
    
    </template>
    	import SysCode from '@/components/SysCode'
      import {cacheData} from '@/utils/cache'
      export default {
        name: 'demo',
        components: {
          SysCode
        },
        data() {
          return {
            cacheData: {},
          }
        },
        mounted() {
          cacheData(this.cacheData, '1000').then(() => {
          })
        }
      }
    ```



## é¡¹ç›®åœ°å€

å¦‚æœ‰éœ€è¦ä½¿ç”¨å…¶å®ƒè¯­è¨€å®ç°åç«¯ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢APIæ–‡æ¡£å®ç°å¯¹åº”æ¥å£å³å¯ã€‚

> [Swagger](https://www.zzhjshop.com/shop_test/swagger-ui.html)
>
> [åœ¨çº¿æ–‡æ¡£](https://cutej.github.io/shop-server/index.html)

é¡¹ç›®åœ°å€

> https://github.com/cuteJ/shop-server åç«¯
>
> https://github.com/cuteJ/shop-web-mgt å‰ç«¯

æ¼”ç¤ºåœ°å€ï¼š

<u>å› ä¸ºé¡¹ç›®æ‰˜ç®¡åœ¨githubä¸Šé¢ä¸”ç¬¬ä¸€æ¬¡åŠ è½½æ–‡ä»¶è¾ƒå¤šï¼Œæ‰€æœ‰æ‰“å¼€ä¼šæ¯”è¾ƒæ…¢</u>

> http://shop-web-mgt.onlythinking.com

## å°ç»“

â€‹	é¡¹ç›®åˆšèµ·æ­¥ï¼Œç”±äºä¸ªäººèƒ½åŠ›ç²¾åŠ›æœ‰é™ï¼Œé¡¹ç›®é‡Œçš„çº°æ¼å’Œä¸è¶³æ¬¢è¿ğŸ‘å¤§å®¶æŒ‡å‡ºå’Œäº¤æµã€‚å¼€æºä¸æ˜“ï¼Œæœ‰äº†å¤§å®¶çš„æ”¯æŒå’Œé¼“åŠ±æ‰èƒ½æ›´å¥½çš„èµ°ä¸‹å»ã€‚